<!DOCTYPE html>
{% extends 'index.html' %}
{% block content %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Movie</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header" style="justify-content :center;">
            <h3 class="text-center" >Add a New Movie</h3>
        </div>
        <div class="card-body">
            <form method="post" enctype="multipart/form-data" action="{% url 'save_movies' %}">
                {% csrf_token %}

                <!-- Movie Name -->
                <div class="mb-3">
                    <label class="form-label">Movie Name</label>
                    <input type="text" class="form-control" name="mname" value="{{data.name}}" placeholder="Enter movie name" required>
                </div>

                <!--                year-->

                <div class="mb-3">
                    <label class="form-label">Movie Year</label>
                    <input type="number" class="form-control" name="year" value="{{data.year}}" placeholder="Enter Year" min="1999" max="2025" required>
                </div>


                <!-- Genre Dropdown -->
                <div class="mb-3">
                    <label class="form-label">Movie Genre</label>
                    <select name="genre" class="form-select"  required>
                        <option >{{data.Genre}}</option>
                        {% for i in gdata %}
                        <option >{{i.name}}</option>
                        {% endfor %}

                    </select>
                </div>

                <!-- Movie Rating -->
                <div class="mb-3">
                    <label class="form-label">Movie Rating</label>
                    <input type="number" step="0.1" min="0" max="10" class="form-control" value="{{data.Imdb}}" name="rate" placeholder="Enter rating (0-10)" required>
                </div>

                <!-- Movie Description -->
                <div class="mb-3">
                    <label class="form-label">Description</label>
                    <textarea class="form-control" name="mdescr" rows="4" placeholder="Enter movie description..." required>{{data.Description}}</textarea>
                </div>

                <!-- Movie Poster Upload -->
                <div class="mb-3">
                    <label class="form-label">Edit Poster</label>
                    <input type="file" class="form-control" name="mpic" accept="image/*">
                    <img src="{{data.Image.url}}" alt="">
                </div>


                <!-- Submit Button -->
                <div class="d-grid">
                    <button type="submit" class="btn btn-success">Add Movie</button>
                </div>

            </form>
        </div>
    </div>
</div>

</body>
</html>
{% endblock %}
